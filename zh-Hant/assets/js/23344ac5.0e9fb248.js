"use strict";(self.webpackChunk_lexical_website=self.webpackChunk_lexical_website||[]).push([[9754],{89357:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>x,frontMatter:()=>t,metadata:()=>d,toc:()=>l});var i=r(31085),o=r(71184);const t={sidebar_position:15},s="\u5275\u5efa\u63d2\u4ef6",d={id:"getting-started/creating-plugin",title:"\u5275\u5efa\u63d2\u4ef6",description:"\u672c\u9801\u9762\u4ecb\u7d39\u5982\u4f55\u5275\u5efa Lexical \u63d2\u4ef6\uff0c\u8207\u4efb\u4f55\u6846\u67b6\u6216\u5eab\u7121\u95dc\u3002\u5c0d\u65bc\u90a3\u4e9b\u5c1a\u672a\u719f\u6089 Lexical \u7684\u4eba\uff0c\u5efa\u8b70\u5148\u67e5\u770b \u5feb\u901f\u958b\u59cb (Vanilla JS) \u9801\u9762\u3002",source:"@site/i18n/zh-Hant/docusaurus-plugin-content-docs/current/getting-started/creating-plugin.md",sourceDirName:"getting-started",slug:"/getting-started/creating-plugin",permalink:"/zh-Hant/docs/getting-started/creating-plugin",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/lexical/tree/main/packages/lexical-website/docs/getting-started/creating-plugin.md",tags:[],version:"current",sidebarPosition:15,frontMatter:{sidebar_position:15},sidebar:"docs",previous:{title:"\u652f\u63f4\u7684\u700f\u89bd\u5668",permalink:"/zh-Hant/docs/getting-started/supported-browsers"},next:{title:"\u958b\u767c\u8005\u5de5\u5177",permalink:"/zh-Hant/docs/getting-started/devtools"}},c={},l=[{value:"\u524d\u63d0\u689d\u4ef6",id:"\u524d\u63d0\u689d\u4ef6",level:2},{value:"\u5275\u5efa\u81ea\u5df1\u7684 <code>LexicalNode</code>",id:"\u5275\u5efa\u81ea\u5df1\u7684-lexicalnode",level:2},{value:"\u5275\u5efa\u7bc0\u9ede\u8b8a\u63db",id:"\u5275\u5efa\u7bc0\u9ede\u8b8a\u63db",level:2},{value:"\u5c07\u6240\u6709\u5167\u5bb9\u7d44\u5408\u5728\u4e00\u8d77",id:"\u5c07\u6240\u6709\u5167\u5bb9\u7d44\u5408\u5728\u4e00\u8d77",level:2}];function a(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"\u5275\u5efa\u63d2\u4ef6",children:"\u5275\u5efa\u63d2\u4ef6"})}),"\n",(0,i.jsxs)(n.p,{children:["\u672c\u9801\u9762\u4ecb\u7d39\u5982\u4f55\u5275\u5efa Lexical \u63d2\u4ef6\uff0c\u8207\u4efb\u4f55\u6846\u67b6\u6216\u5eab\u7121\u95dc\u3002\u5c0d\u65bc\u90a3\u4e9b\u5c1a\u672a\u719f\u6089 Lexical \u7684\u4eba\uff0c\u5efa\u8b70\u5148\u67e5\u770b ",(0,i.jsx)(n.a,{href:"/docs/getting-started/quick-start",children:"\u5feb\u901f\u958b\u59cb (Vanilla JS) \u9801\u9762"}),"\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["Lexical \u8207\u8a31\u591a\u5176\u4ed6\u6846\u67b6\u4e0d\u540c\uff0c\u4e26\u672a\u70ba\u5176\u63d2\u4ef6\u5b9a\u7fa9\u4efb\u4f55\u7279\u5b9a\u7684\u4ecb\u9762\u3002\u63d2\u4ef6\u5728\u6700\u7c21\u55ae\u7684\u5f62\u5f0f\u4e0b\u662f\u4e00\u500b\u63a5\u53d7 ",(0,i.jsx)(n.code,{children:"LexicalEditor"})," \u5be6\u4f8b\u4e26\u8fd4\u56de\u6e05\u7406\u51fd\u6578\u7684\u51fd\u6578\u3002\u901a\u904e\u8a2a\u554f ",(0,i.jsx)(n.code,{children:"LexicalEditor"}),"\uff0c\u63d2\u4ef6\u53ef\u4ee5\u901a\u904e ",(0,i.jsx)(n.a,{href:"/docs/concepts/commands",children:"Commands"}),"\u3001",(0,i.jsx)(n.a,{href:"/docs/concepts/transforms",children:"Transforms"}),"\u3001",(0,i.jsx)(n.a,{href:"/docs/concepts/nodes",children:"Nodes"})," \u6216\u5176\u4ed6 API \u64f4\u5c55\u7de8\u8f2f\u5668\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5728\u672c\u6307\u5357\u4e2d\uff0c\u6211\u5011\u5c07\u5275\u5efa\u4e00\u500b\u63d2\u4ef6\uff0c\u5c07\u8868\u60c5\u7b26\u865f\uff08",(0,i.jsx)(n.code,{children:":)"}),"\u3001",(0,i.jsx)(n.code,{children:":P"})," \u7b49\uff09\u66ff\u63db\u70ba\u5be6\u969b\u7684\u8868\u60c5\u7b26\u865f\uff08\u4f7f\u7528 ",(0,i.jsx)(n.a,{href:"/docs/concepts/transforms",children:"Node Transforms"}),"\uff09\uff0c\u4e26\u4f7f\u7528\u81ea\u5df1\u7684\u5716\u5f62\u4f86\u6e32\u67d3\u8868\u60c5\u7b26\u865f\uff0c\u901a\u904e\u5275\u5efa\u6211\u5011\u81ea\u5df1\u7684\u81ea\u5b9a\u7fa9\u7bc0\u9ede\u4f86\u64f4\u5c55 ",(0,i.jsx)(n.a,{href:"/docs/concepts/nodes#textnode",children:"TextNode"}),"\u3002"]}),"\n",(0,i.jsx)("figure",{class:"text--center",children:(0,i.jsx)("img",{src:"/img/docs/lexical-emoji-plugin-design.drawio.svg",alt:"\u6982\u5ff5\u8996\u5716"})}),"\n",(0,i.jsx)(n.h2,{id:"\u524d\u63d0\u689d\u4ef6",children:"\u524d\u63d0\u689d\u4ef6"}),"\n",(0,i.jsxs)(n.p,{children:["\u6211\u5011\u5047\u8a2d\u4f60\u5df2\u7d93\u5be6\u73fe\u4e86\uff08\u53c3\u898b\u63d0\u4f9b\u7684\u4ee3\u78bc\u4e2d\u7684 ",(0,i.jsx)(n.code,{children:"findEmoji.ts"}),"\uff09\u4e00\u500b\u51fd\u6578\uff0c\u8a72\u51fd\u6578\u5141\u8a31\u4f60\u5728\u6587\u672c\u4e2d\u627e\u5230\u8868\u60c5\u7b26\u865f\u77ed\u78bc\uff08\u8868\u60c5\u7b26\u865f\uff09\u4e26\u8fd4\u56de\u5b83\u5011\u7684\u4f4d\u7f6e\u4ee5\u53ca\u5176\u4ed6\u4e00\u4e9b\u4fe1\u606f\uff1a"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// findEmoji.ts\r\nexport type EmojiMatch = Readonly<{\r\n  position: number;\r\n  shortcode: string;\r\n  unifiedID: string;\r\n}>;\r\n\r\nexport default function findEmoji(text: string): EmojiMatch | null;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"\u5275\u5efa\u81ea\u5df1\u7684-lexicalnode",children:["\u5275\u5efa\u81ea\u5df1\u7684 ",(0,i.jsx)(n.code,{children:"LexicalNode"})]}),"\n",(0,i.jsx)(n.p,{children:"Lexical \u4f5c\u70ba\u4e00\u500b\u6846\u67b6\u63d0\u4f9b\u4e86\u5169\u7a2e\u65b9\u5f0f\u4f86\u81ea\u5b9a\u7fa9\u5176\u5167\u5bb9\u7684\u5916\u89c0\uff1a"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u901a\u904e\u64f4\u5c55\u57fa\u672c\u7bc0\u9ede\u4e4b\u4e00\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/concepts/nodes#elementnode",children:(0,i.jsx)(n.code,{children:"ElementNode"})})," \u2013 \u7528\u4f5c\u5176\u4ed6\u7bc0\u9ede\u7684\u7236\u7bc0\u9ede\uff0c\u53ef\u4ee5\u662f\u5340\u584a\u7d1a\u6216\u5167\u806f\u7d1a\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/concepts/nodes#textnode",children:(0,i.jsx)(n.code,{children:"TextNode"})})," - \u7bc0\u9ede\u7684\u8449\u5b50\u985e\u578b\uff08",(0,i.jsx)(n.em,{children:"\u56e0\u6b64\u5b83\u4e0d\u80fd\u6709\u5b50\u5143\u7d20"}),"\uff09\u5305\u542b\u6587\u672c\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/concepts/nodes#decoratornode",children:(0,i.jsx)(n.code,{children:"DecoratorNode"})})," - \u7528\u65bc\u5728\u7de8\u8f2f\u5668\u5167\u63d2\u5165\u4efb\u610f\u8996\u5716\uff08\u7d44\u4ef6\uff09\u3002"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u901a\u904e ",(0,i.jsx)(n.a,{href:"/docs/concepts/node-replacement",children:"Node Overrides"})," \u2013 \u5982\u679c\u4f60\u60f3\u589e\u5f37\u5167\u5efa\u7bc0\u9ede\u7684\u884c\u70ba\uff08\u5982 ",(0,i.jsx)(n.code,{children:"ParagraphNode"}),"\uff09\uff0c\u9019\u975e\u5e38\u6709\u7528\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\u7531\u65bc\u6211\u5011\u7684\u60c5\u6cc1\u4e0d\u9810\u671f ",(0,i.jsx)(n.code,{children:"EmojiNode"})," \u6703\u6709\u4efb\u4f55\u5b50\u7bc0\u9ede\uff0c\u4e5f\u4e0d\u6253\u7b97\u63d2\u5165\u4efb\u610f\u7d44\u4ef6\uff0c\u56e0\u6b64\u6700\u9069\u5408\u6211\u5011\u7684\u662f\u4f7f\u7528 ",(0,i.jsx)(n.a,{href:"/docs/concepts/nodes#textnode",children:(0,i.jsx)(n.code,{children:"TextNode"})})," \u64f4\u5c55\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"export class EmojiNode extends TextNode {\r\n  __unifiedID: string;\r\n\r\n  static getType(): string {\r\n    return 'emoji';\r\n  }\r\n\r\n  static clone(node: EmojiNode): EmojiNode {\r\n    return new EmojiNode(node.__unifiedID, node.__key);\r\n  }\r\n\r\n  constructor(unifiedID: string, key?: NodeKey) {\r\n    const unicodeEmoji = /*...*/;\r\n    super(unicodeEmoji, key);\r\n\r\n    this.__unifiedID = unifiedID.toLowerCase();\r\n  }\r\n\r\n  /**\r\n  * DOM \u5c07\u7531\u700f\u89bd\u5668\u5728 contenteditable \u4e2d\u6e32\u67d3\r\n  * \u9019\u662f Lexical \u6e32\u67d3\u7684\u5167\u5bb9\r\n  */\r\n  createDOM(_config: EditorConfig): HTMLElement {\r\n    const dom = document.createElement('span');\r\n    dom.className = 'emoji-node';\r\n    dom.style.backgroundImage = `url('${BASE_EMOJI_URI}/${this.__unifiedID}.png')`;\r\n    dom.innerText = this.__text;\r\n\r\n    return dom;\r\n  }\r\n\r\n  static importJSON(serializedNode: SerializedEmojiNode): EmojiNode {\r\n    return $createEmojiNode(serializedNode.unifiedID);\r\n  }\r\n\r\n  exportJSON(): SerializedEmojiNode {\r\n    return {\r\n      ...super.exportJSON(),\r\n      type: 'emoji',\r\n      unifiedID: this.__unifiedID,\r\n    };\r\n  }\r\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u4e0a\u9762\u7684\u4f8b\u5b50\u8868\u793a\u4e86\u64f4\u5c55 ",(0,i.jsx)(n.a,{href:"/docs/concepts/nodes#textnode",children:(0,i.jsx)(n.code,{children:"TextNode"})})," \u7684\u81ea\u5b9a\u7fa9\u7bc0\u9ede\u7684\u7d55\u5c0d\u6700\u5c0f\u8a2d\u7f6e\u3002\u8b93\u6211\u5011\u4f86\u770b\u770b\u9019\u88e1\u7684\u95dc\u9375\u5143\u7d20\uff1a"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"constructor(...)"})," + \u985e\u5c6c\u6027 \u2013 \u5141\u8a31\u6211\u5011\u5728\u904b\u884c\u6642\u5728\u7bc0\u9ede\u4e2d\u5b58\u5132\u81ea\u5b9a\u7fa9\u6578\u64da\u4ee5\u53ca\u63a5\u53d7\u81ea\u5b9a\u7fa9\u53c3\u6578\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"getType()"})," \u548c ",(0,i.jsx)(n.code,{children:"clone(...)"})," \u2013 \u9019\u4e9b\u65b9\u6cd5\u5141\u8a31 Lexical \u6b63\u78ba\u8b58\u5225\u7bc0\u9ede\u985e\u578b\u4ee5\u53ca\u6b63\u78ba\u514b\u9686\u5b83\uff0c\u56e0\u70ba\u6211\u5011\u53ef\u80fd\u5e0c\u671b\u81ea\u5b9a\u7fa9\u514b\u9686\u884c\u70ba\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"importJSON(...)"})," \u548c ",(0,i.jsx)(n.code,{children:"exportJSON()"})," \u2013 \u5b9a\u7fa9\u4e86\u6211\u5011\u7684\u6578\u64da\u5982\u4f55\u88ab\u5e8f\u5217\u5316/\u53cd\u5e8f\u5217\u5316\u5230 Lexical \u72c0\u614b\u4e2d\u3002\u5728\u9019\u88e1\u4f60\u5b9a\u7fa9\u4e86\u7bc0\u9ede\u5728\u72c0\u614b\u4e2d\u7684\u8868\u793a\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"createDOM(...)"})," \u2013 \u5b9a\u7fa9\u4e86\u5c07\u7531 Lexical \u6e32\u67d3\u7684 DOM\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\u5275\u5efa\u7bc0\u9ede\u8b8a\u63db",children:"\u5275\u5efa\u7bc0\u9ede\u8b8a\u63db"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/docs/concepts/transforms",children:"Transforms"})," \u5141\u8a31\u6709\u6548\u5730\u97ff\u61c9\u5c0d ",(0,i.jsx)(n.code,{children:"EditorState"})," \u7684\u8b8a\u5316\uff0c\u4ee5\u53ca\u7528\u6236\u8f38\u5165\u3002\u5b83\u5011\u7684\u6548\u7387\u4f86\u81ea\u65bc\u8b8a\u63db\u5728 DOM \u548c\u89e3\u64cd\u4f5c\u4e4b\u524d\u57f7\u884c\uff08\u9019\u662f Lexical \u751f\u547d\u9031\u671f\u4e2d\u6700\u6602\u8cb4\u7684\u64cd\u4f5c\uff09\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u6b64\u5916\uff0c\u9700\u8981\u63d0\u5230\u7684\u662f\uff0c",(0,i.jsx)(n.a,{href:"/docs/concepts/transforms",children:"Lexical Node Transforms"})," \u8db3\u5920\u667a\u80fd\uff0c\u8b93\u4f60\u4e0d\u5fc5\u8003\u616e\u8b8a\u63db\u4e2d\u6240\u505a\u7684\u4fee\u6539\u7684\u4efb\u4f55\u526f\u4f5c\u7528\u6216\u8207\u5176\u4ed6\u8b8a\u63db\u76e3\u807d\u5668\u7684\u76f8\u4e92\u4f9d\u8cf4\u3002\u7d93\u9a57\u6cd5\u5247\u662f\uff0c\u5728\u7279\u5b9a\u8b8a\u63db\u4e2d\u5c0d\u7bc0\u9ede\u6240\u505a\u7684\u66f4\u6539\u5c07\u89f8\u767c\u5176\u4ed6\u8b8a\u63db\u7684\u91cd\u65b0\u904b\u884c\uff0c\u76f4\u5230\u5c0d ",(0,i.jsx)(n.code,{children:"EditorState"})," \u6c92\u6709\u66f4\u591a\u7684\u66f4\u6539\u3002\u8a73\u7d30\u4e86\u89e3\u8acb\u53c3\u898b ",(0,i.jsx)(n.a,{href:"/docs/concepts/transforms#transform-heuristic",children:"Transform heuristic"}),"\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5728\u6211\u5011\u7684\u4f8b\u5b50\u4e2d\uff0c\u6211\u5011\u6709\u4e00\u500b\u7c21\u55ae\u7684\u8b8a\u63db\uff0c\u5b83\u57f7\u884c\u4ee5\u4e0b\u696d\u52d9\u908f\u8f2f\uff1a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u5617\u8a66\u8b8a\u63db ",(0,i.jsx)(n.code,{children:"TextNode"}),"\u3002\u5b83\u5c07\u5728 ",(0,i.jsx)(n.code,{children:"TextNode"})," \u7684\u4efb\u4f55\u66f4\u6539\u4e0a\u904b\u884c\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u6aa2\u67e5 ",(0,i.jsx)(n.code,{children:"TextNode"})," \u4e2d\u7684\u6587\u672c\u662f\u5426\u5305\u542b\u8868\u60c5\u7b26\u865f\u77ed\u78bc\uff08\u8868\u60c5\u7b26\u865f\uff09\u3002\u5982\u679c\u6c92\u6709\u5247\u8df3\u904e\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u6839\u64da\u77ed\u78bc\u5728\u6587\u672c\u4e2d\u7684\u4f4d\u7f6e\uff0c\u5c07 ",(0,i.jsx)(n.code,{children:"TextNode"})," \u5206\u5272\u6210 2 \u6216 3 \u90e8\u5206\uff0c\u4ee5\u4fbf\u76ee\u6a19\u8868\u60c5\u7b26\u865f\u77ed\u78bc\u6709\u81ea\u5df1\u7684\u5c08\u7528 ",(0,i.jsx)(n.code,{children:"TextNode"}),"\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u7528 ",(0,i.jsx)(n.code,{children:"EmojiNode"})," \u66ff\u63db\u8868\u60c5\u7b26\u865f\u77ed\u78bc ",(0,i.jsx)(n.code,{children:"TextNode"}),"\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import {LexicalEditor, TextNode} from 'lexical';\r\n\r\nimport {$createEmojiNode} from './EmojiNode';\r\nimport findEmoji from './findEmoji';\r\n\r\nfunction textNodeTransform(node: TextNode): void {\r\n  if (!node.isSimpleText() || node.hasFormat('code')) {\r\n    return;\r\n  }\r\n\r\n  const text = node.getTextContent();\r\n\r\n  // \u53ea\u627e\u7b2c\u4e00\u500b\u51fa\u73fe\u7684\u77ed\u78bc\uff0c\u56e0\u70ba\u8b8a\u63db\u5c07\u91cd\u65b0\u904b\u884c\u5176\u9918\u90e8\u5206\r\n  // \u56e0\u70ba\u65b0\u63d2\u5165\u7684\u7bc0\u9ede\u88ab\u8a8d\u70ba\u662f\u9ad2\u7684\r\n  const emojiMatch = findEmoji(text);\r\n  if (emojiMatch === null) {\r\n    return;\r\n  }\r\n\r\n  let targetNode;\r\n  if (emojiMatch.position === 0) {\r\n    // \u5b57\u7b26\u4e32\u4e2d\u7684\u7b2c\u4e00\u500b\u6587\u672c\u584a\uff0c\u5206\u5272\u6210 2 \u90e8\u5206\r\n    [targetNode] = node.splitText(\r\n      emojiMatch.position + emojiMatch.shortcode.length,\r\n    );\r\n  } else {\r\n    // \u5b57\u7b26\u4e32\u4e2d\u7684\u4e2d\u9593\u90e8\u5206\r\n    [, targetNode] = node.splitText(\r\n      emojiMatch.position,\r\n      emojiMatch.position + emojiMatch.shortcode.length,\r\n    );\r\n  }\r\n\r\n  const emojiNode = $createEmojiNode(emojiMatch.unifiedID);\r\n  targetNode.replace(emojiNode);\r\n}\r\n\r\nexport function registerEmoji(editor: LexicalEditor): () => void {\r\n  // \u6211\u5011\u4e0d\u5728\u9019\u88e1\u4f7f\u7528 editor.registerUpdateListener\uff0c\u56e0\u70ba\u4f9d\u8cf4\u65bc\u66f4\u65b0\u76e3\u807d\u5668\u7684\u66ff\u4ee3\u65b9\u6cd5\u662f\u9ad8\u5ea6\u4e0d\u5efa\u8b70\u7684\uff0c\u56e0\u70ba\u5b83\u6703\u89f8\u767c\u984d\u5916\u7684\u6e32\u67d3\uff08\u6700\u6602\u8cb4\u7684\u751f\u547d\u9031\u671f\u64cd\u4f5c\uff09\u3002\r\n  return editor.registerNodeTransform(TextNode, textNodeTransform);\r\n}\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5c07\u6240\u6709\u5167\u5bb9\u7d44\u5408\u5728\u4e00\u8d77",children:"\u5c07\u6240\u6709\u5167\u5bb9\u7d44\u5408\u5728\u4e00\u8d77"}),"\n",(0,i.jsxs)(n.p,{children:["\u6700\u5f8c\uff0c\u6211\u5011\u901a\u904e\u5728\u7de8\u8f2f\u5668\u914d\u7f6e\u4e2d\u8a3b\u518a ",(0,i.jsx)(n.code,{children:"EmojiNode"})," \u4e26\u57f7\u884c ",(0,i.jsx)(n.code,{children:"registerEmoji(editor)"})," \u63d2\u4ef6\u5f15\u5c0e\u51fd\u6578\u4f86\u914d\u7f6e Lexical \u5be6\u4f8b\u3002\u70ba\u4e86\u7c21\u5316\u8d77\u898b\uff0c\u6211\u5011\u5047\u8a2d\u63d2\u4ef6\u81ea\u884c\u8655\u7406 CSS \u548c\u975c\u614b\u8cc7\u6e90\u7684\u5206\u767c\uff08\u5982\u679c\u6709\u7684\u8a71\uff09\uff0cLexical \u4e0d\u6703\u5f37\u5236\u57f7\u884c\u4efb\u4f55\u898f\u5247\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u53c3\u8003 ",(0,i.jsx)(n.a,{href:"/docs/getting-started/quick-start#putting-it-together",children:"\u5feb\u901f\u958b\u59cb (Vanilla JS) \u7bc4\u4f8b"})," \u4f86\u586b\u88dc\u9019\u6bb5\u507d\u4ee3\u78bc\u4e2d\u7684\u7a7a\u767d\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"import {createEditor} from 'lexical';\r\nimport {mergeRegister} from '@lexical/utils';\r\n/* ... */\r\n\r\nimport {EmojiNode} from './emoji-plugin/EmojiNode';\r\nimport {registerEmoji} from './emoji-plugin/EmojiPlugin';\r\n\r\nconst initialConfig = {\r\n  /* ... */\r\n  // \u8a3b\u518a\u6211\u5011\u65b0\u5275\u5efa\u7684\u7bc0\u9ede\r\n  nodes: [EmojiNode /* ... */],\r\n};\r\n\r\nconst editor = createEditor(config);\r\n\r\nconst editorRef = document.getElementById('lexical-editor');\r\neditor.setRootElement(editorRef);\r\n\r\n// \u8a3b\u518a\u63d2\u4ef6\r\nmergeRegister(\r\n  /* ... */\r\n  registerEmoji(editor), // \u6211\u5011\u7684\u63d2\u4ef6\r\n);\n"})}),"\n",(0,i.jsx)("iframe",{width:"100%",height:"400",src:"https://stackblitz.com/github/facebook/lexical/tree/main/examples/vanilla-js-plugin?embed=1&file=src%2Femoji-plugin%2FEmojiPlugin.ts&terminalHeight=1&ctl=1",sandbox:"allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts"})]})}function x(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},71184:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>d});var i=r(14041);const o={},t=i.createContext(o);function s(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);